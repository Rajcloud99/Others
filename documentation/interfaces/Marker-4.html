<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>LMS-Lite documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">LMS-Lite documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li>Interfaces</li>
  <li
  >
  Marker</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/modules/geofence/geofence-upsert/geofence-upsert.component.ts</code>
        </p>




        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#address" 
>
                                            address
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#dist" 
>
                                            dist
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#distUnit" 
>
                                            distUnit
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#draggable" 
>
                                            draggable
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#eta" 
>
                                            eta
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#etaUnit" 
>
                                            etaUnit
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#icon" 
>
                                            icon
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#label" 
>
                                            label
                                        </a>
                                </li>
                                <li>
                                        <a href="#lat" 
>
                                            lat
                                        </a>
                                </li>
                                <li>
                                        <a href="#lng" 
>
                                            lng
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="address"></a>
                                        <span class="name "><b>address</b>
                                            <a href="#address">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>address:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="dist"></a>
                                        <span class="name "><b>dist</b>
                                            <a href="#dist">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>dist:     <code>number | string</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>number | string</code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="distUnit"></a>
                                        <span class="name "><b>distUnit</b>
                                            <a href="#distUnit">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>distUnit:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="draggable"></a>
                                        <span class="name "><b>draggable</b>
                                            <a href="#draggable">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>draggable:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="eta"></a>
                                        <span class="name "><b>eta</b>
                                            <a href="#eta">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>eta:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="etaUnit"></a>
                                        <span class="name "><b>etaUnit</b>
                                            <a href="#etaUnit">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>etaUnit:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="icon"></a>
                                        <span class="name "><b>icon</b>
                                            <a href="#icon">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>icon:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="label"></a>
                                        <span class="name "><b>label</b>
                                            <a href="#label">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>label:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lat"></a>
                                        <span class="name "><b>lat</b>
                                            <a href="#lat">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lat:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lng"></a>
                                        <span class="name "><b>lng</b>
                                            <a href="#lng">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lng:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {Component, ElementRef, HostListener, Input, OnInit, ViewChild} from &#x27;@angular/core&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { StorageService } from &#x27;src/app/services/storage.service&#x27;;
import { MasterService } from &#x27;../../master.service&#x27;;
import { NzMarks } from &#x27;ng-zorro-antd/slider&#x27;;
import {FormBuilder, Validators} from &quot;@angular/forms&quot;;
import {CommonService} from &quot;../../../services/common.service&quot;;
interface Marker {
  lat: number;
  lng: number;
  icon?: string;
  label?: string;
  eta?: string;
  address?: string;
  draggable?: boolean;
  etaUnit?: string;
  dist?: number | string;
  distUnit?: string;
}
@Component({
  selector: &#x27;app-geofence-upsert&#x27;,
  templateUrl: &#x27;./geofence-upsert.component.html&#x27;,
  styleUrls: [&#x27;./geofence-upsert.component.scss&#x27;]
})
export class GeofenceUpsertComponent implements OnInit {
  innerWidth: any;
  mode:any;
  showPause &#x3D; true;
  @HostListener(&quot;window: resize&quot;, [&quot;$event&quot;])
  onResize(event: any) {
    this.innerWidth &#x3D; window.innerWidth;
  }
  marks: NzMarks &#x3D; {
    0: &#x27;0&#x27; + &#x27;(-)&#x27;,
    30: &#x27;30&#x27;,
    50: &#x27;50&#x27;,
    100: &#x27;100&#x27; + &#x27;(+)&#x27;,
  };
  oFilter :any &#x3D;{};
  markers: any &#x3D; [];
  visible:boolean &#x3D; false;
  Newgeofencedata:any &#x3D; [];
  disabled: boolean &#x3D; false;
  geoZoneListRoot: any;
  @ViewChild(&quot;address&quot;, { static: false })
  address!: ElementRef;
  map: any;
  zoom: number &#x3D; 6;
  marker: Marker &#x3D; {
    lat: 23.673858,
    lng: 83.815982,
  };
  lat: any &#x3D; 23.673858;
  lng: any &#x3D; 83.815982;
  device: any;
  Preview:boolean &#x3D;false;
  @Input() mod: any;// mode of popup from map view
  // for geozone
 name:any;
  radius:any;
  showradius: boolean  &#x3D; false;
  description :any;
  CircleGeoZone:any &#x3D;[];
  RectangleGeoZone:any &#x3D;[];
  PolygonGeoZone:any &#x3D;[];
  tempoverplay :any  &#x3D; [];
  constructor(
    private route: ActivatedRoute,
    private router: Router,
    private common :CommonService,
    private masterService: MasterService,
    private storageService: StorageService,
    private fb: FormBuilder,
  ) {
    this.route.params.subscribe((queryParam) &#x3D;&gt; {
      this.mode  &#x3D; queryParam.mode;
      if (this.mode) {
        const currentState &#x3D; this.router.getCurrentNavigation();
        if(this.mode &#x3D;&#x3D;&#x27;Preview&#x27;){
          this.geoZoneListRoot &#x3D; currentState &amp;&amp; currentState.extras.state;
          if(!this.geoZoneListRoot.length){
            this.geoZoneListRoot&#x3D; [];
            this.geoZoneListRoot.push(currentState &amp;&amp; currentState.extras.state);
          }
          this.Preview &#x3D; true;
        }else if(this.mode &#x3D;&#x3D;&#x27;Add&#x27;){
          this.geoZoneListRoot &#x3D; currentState &amp;&amp; currentState.extras.state;
          this.Preview &#x3D; false;
        }

      }
    });
  }
  GeozoneForm &#x3D; this.fb.group({
    name: [null, [Validators.required]],
    address: [null, [Validators.required]],
    latitude: [null, [Validators.required]],
    longitude: [null, [Validators.required]],
  });

  ngOnInit(): void {

    this.common.setNavTittleAndMenu(&quot;Geofence&quot;);
    this.innerWidth &#x3D; window.innerWidth;
    if(this.geoZoneListRoot){
      this.fillFormdata(this.geoZoneListRoot);
    }
  }
  searchLocation(){
    if(this.address){
      let data &#x3D; this.address.nativeElement;
      this.GeozoneForm.patchValue({
        latitude: data?.location?.lat(),
        longitude: data?.location?.lng(),
      });
      this.markers&#x3D; [];
      this.markers.push({
        lat: this.GeozoneForm.value.latitude,
        lng: this.GeozoneForm.value.longitude,
      });
      this.setviewpostion(this.markers[0]);


    }
  }
  search(){
    if(this.GeozoneForm.value?.latitude &amp;&amp; this.GeozoneForm.value?.longitude) {
      this.markers &#x3D; [];
      this.markers.push({
        lat: this.GeozoneForm.value.latitude,
        lng: this.GeozoneForm.value.longitude,
      });
      this.setviewpostion(this.markers[0]);
    }
  }
  setviewpostion(marker: any){
    this.marker.lat &#x3D; marker?.lat;
    this.marker.lng &#x3D; marker?.lng;
    this.zoom&#x3D;18;
  }
  popupinfo(x:any,y:any){

  }
  fillFormdata(geoZoneListRoot:any) {
    if(geoZoneListRoot &amp;&amp; geoZoneListRoot.length&gt;0){
      for (let x&#x3D;0; x&lt;geoZoneListRoot.length;x++){
        this.setLayerData(geoZoneListRoot[x]);
      }
      this.marker.lat &#x3D; geoZoneListRoot[0].geozone[0].latitude;
      this.marker.lng &#x3D; geoZoneListRoot[0].geozone[0].longitude;
      if(geoZoneListRoot.length &#x3D;&#x3D;1) {
        this.zoom &#x3D; geoZoneListRoot[0].zoom_level || 15;
      }else {
        this.zoom &#x3D; 5;
      }
    }
  }
  setLayerData(mapData:any) {
    mapData.isOpen &#x3D; false;
    let layerType &#x3D; mapData.ptype;
    if (layerType &#x3D;&#x3D;&#x3D; &#x27;circle&#x27;) {
    this.CircleGeoZone.push(mapData);

    } else if (layerType &#x3D;&#x3D;&#x3D; &#x27;rectangle&#x27;) {

      this.RectangleGeoZone.push(mapData);

    } else if (layerType &#x3D;&#x3D;&#x3D; &#x27;polygon&#x27;) {
       mapData.geozone &#x3D; this.getLatLongInArray(mapData.geozone);
      this.PolygonGeoZone.push(mapData);
    }
  }

  getLatLongInArray(aLatLng:any) {
    var aData &#x3D; [];
    if(aLatLng &amp;&amp; aLatLng.length&gt;0){
      for (var i&#x3D;0; i&lt;aLatLng.length; i++){
        aData.push({lat : aLatLng[i].latitude,lng :aLatLng[i].longitude})
      }
    }
    return aData;
  }
//  GET DATA FOR RECTANGLE DRAW
  max(coordType: &#x27;latitude&#x27; | &#x27;longitude&#x27;,geozone:any) {
    return Math.max(...geozone.map((marker: { [x: string]: any; }) &#x3D;&gt; marker[coordType]));
  }
  min(coordType: &#x27;latitude&#x27; | &#x27;longitude&#x27;,geozone:any) {
    return Math.min(...geozone.map((marker: { [x: string]: any; }) &#x3D;&gt; marker[coordType]));
  }
//  for drowing shape
  onMapReady(map: any) {
    if(this.mode &#x3D;&#x3D;&#x27;Add&#x27; || this.mod &#x3D;&#x3D;&#x3D; &#x27;add&#x27;) {
      this.initDrawingManager(map);
    }
  }
  initDrawingManager(map: any) {
    const mContext &#x3D; this;
    const options: any &#x3D; {
      drawingControl: true,
      drawingControlOptions: {
        drawingModes: [&quot;polygon&quot;, &quot;circle&quot;, &quot;rectangle&quot;]
      },
      polygonOptions: {

      },
      drawingMode: [
        google.maps.drawing.OverlayType.POLYGON,
        google.maps.drawing.OverlayType.CIRCLE,
        google.maps.drawing.OverlayType.RECTANGLE],
    };

    const drawingManager &#x3D; new google.maps.drawing.DrawingManager(options);
    drawingManager.setMap(map);
    google.maps.event.addListener(drawingManager, &#x27;overlaycomplete&#x27;, function (event) {
      if (event.type &#x3D;&#x3D; &#x27;circle&#x27;) {
        let GEODATA : any &#x3D;{
          type : &quot;geozone&quot;,
          ptype : event.type,
          radius :event.overlay.getRadius(),
          zoom_level:event.overlay.map.zoom,
          geozone:[{
            &quot;latitude&quot;: event.overlay.center.lat(), &quot;longitude&quot;:  event.overlay.center.lng()},
          ]
        };
        mContext.openoppup(GEODATA);
      }
      if (event.type &#x3D;&#x3D; &#x27;rectangle&#x27;) {
        var bounds &#x3D; event.overlay.getBounds();
        var NE &#x3D; bounds.getNorthEast();
        var SW &#x3D; bounds.getSouthWest();
        var NW &#x3D; new google.maps.LatLng(NE.lat(),SW.lng());
        var SE &#x3D; new google.maps.LatLng(SW.lat(),NE.lng());
        let GEODATA&#x3D;{
          type : &quot;geozone&quot;,
          ptype : event.type,
          zoom_level:event.overlay.map.zoom,
          geozone:[{&quot;latitude&quot;: NE.lat(), &quot;longitude&quot;: NE.lng()},
            {&quot;latitude&quot;: SW.lat(), &quot;longitude&quot;: SW.lng()},
            {&quot;latitude&quot;: NW.lat(), &quot;longitude&quot;: NW.lng()},
            {&quot;latitude&quot;: SE.lat(), &quot;longitude&quot;: SE.lng()}
          ]
        };
        mContext.openoppup(GEODATA);
      }
      if (event.type &#x3D;&#x3D; &#x27;polygon&#x27;) {
        const zone &#x3D; [];
        const vertices &#x3D; event.overlay.getPath();
        for (let i &#x3D; 0; i &lt; vertices.getLength(); i++) {
          const xy &#x3D; vertices.getAt(i);
          zone.push({latitude: xy.lat(), longitude:xy.lng()});
      }
        let GEODATA&#x3D;{
          type : &quot;geozone&quot;,
          zoom_level:event.overlay.map.zoom,
          ptype : event.type,
          geozone:zone,
        };
        mContext.openoppup(GEODATA);
      }
      mContext.tempoverplay &#x3D; [];
      mContext.tempoverplay.push(event.overlay);
      drawingManager.setDrawingMode(null);
    });
  }
  openoppup(data:any){
    this.name &#x3D; undefined;
    this.description &#x3D; undefined;
    this.Newgeofencedata&#x3D;{};
    this.Newgeofencedata &#x3D; data;
    if(this.Newgeofencedata){
      if(this.Newgeofencedata.ptype &#x3D;&#x3D;&#x3D; &#x27;circle&#x27;) {
        this.showradius &#x3D; true;
        this.radius &#x3D; this.Newgeofencedata.radius || 0;
      }else{
        this.showradius &#x3D; false;
      }
      this.visible &#x3D; true;
    }

  }
    AddGeozone(geodata:any){
      this.masterService
        .AddlandMark(geodata).subscribe((data: any) &#x3D;&gt; {
          if (data &amp;&amp; this.mod &#x3D;&#x3D;&#x3D; &#x27;add&#x27;) {
            this.visible &#x3D; false;
          } else if(data) {
            this.router.navigateByUrl(&#x27;home/tracking/geofence&#x27;);
            this.visible &#x3D; false;
          }
        });
    }
  handleCancel(){
    this.tempoverplay[0].setMap(null);
    this.name &#x3D; undefined;
    this.radius &#x3D; undefined;
    this.description &#x3D; undefined;
    this.visible &#x3D; false;
  }
  handleSubmit(){
    if(!this.name){
      return this.common.error(&quot;Geofence Name is Mandatory&quot;);
    }
    if(!this.description){
      return this.common.error(&quot;Geofence Description is Mandatory&quot;);
    }
    if(this.Newgeofencedata.ptype &#x3D;&#x3D;&#x3D; &#x27;circle&#x27;){
      if(this.radius){
        if(this.radius &gt; 5000){
          return this.common.error(&quot;Geofence radius should be less than or equal 5000 meter&quot;);
        }
        this.Newgeofencedata.radius &#x3D; this.radius;
      }else{
        return this.common.error(&quot;Geofence radius is Mandatory&quot;);
      }
    }
    this.Newgeofencedata.name &#x3D; this.name;
    // this.Newgeofencedata.description &#x3D; this.description;
    this.Newgeofencedata.address &#x3D; this.description;
    this.AddGeozone(this.Newgeofencedata);
  }
  openWindowinfo(zone:any){
    if(this.CircleGeoZone &amp;&amp; this.CircleGeoZone.length&gt;0) {
      for (var i &#x3D; 0; i &lt; this.CircleGeoZone.length; i++) {
        this.CircleGeoZone[i].isOpen &#x3D; false;
      }
    }
    if(this.RectangleGeoZone &amp;&amp; this.RectangleGeoZone.length&gt;0) {
      for (var i &#x3D; 0; i &lt; this.RectangleGeoZone.length; i++) {
        this.RectangleGeoZone[i].isOpen &#x3D; false;
      }
    }
    if(this.PolygonGeoZone &amp;&amp; this.PolygonGeoZone.length&gt;0) {
      for (var i &#x3D; 0; i &lt; this.PolygonGeoZone.length; i++) {
        this.PolygonGeoZone[i].isOpen &#x3D; false;
      }
    }
    zone.isOpen &#x3D; true;
  }
  closeWindow(zone:any){
    zone.isOpen &#x3D; false;
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'Marker-4.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
